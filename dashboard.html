<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>机票预订系统 - 仪表盘</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .dashboard {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .header h1 {
            color: #2d3748;
            font-size: 1.8em;
        }

        .nav-links a {
            color: #667eea;
            text-decoration: none;
            margin-left: 20px;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #764ba2;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            animation: fadeIn 0.5s ease-out;
        }

        .card-header {
            color: #4a5568;
            font-size: 1.2em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }

        .stat {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            margin-right: 10px;
        }

        .stat-label {
            color: #718096;
        }

        .chart {
            width: 100%;
            height: 200px;
            background: #f7fafc;
            border-radius: 10px;
            margin-top: 15px;
            position: relative;
            overflow: hidden;
        }

        .bar {
            position: absolute;
            bottom: 0;
            width: 40px;
            background: linear-gradient(to top, #667eea, #764ba2);
            border-radius: 5px 5px 0 0;
            transition: height 0.5s;
        }

        .route-list {
            list-style: none;
        }

        .route-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .route-item:last-child {
            border-bottom: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }

        .real-time-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: #48bb78;
            border-radius: 50%;
            margin-right: 8px;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.5; }
            100% { transform: scale(1); opacity: 1; }
        }

        .flight-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.9em;
            font-weight: 500;
        }

        .status-ontime {
            background-color: #c6f6d5;
            color: #2f855a;
        }

        .status-delayed {
            background-color: #fed7d7;
            color: #c53030;
        }

        .status-boarding {
            background-color: #bee3f8;
            color: #2b6cb0;
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <header class="header">
            <h1>✈️ 机票预订系统仪表盘</h1>
            <nav class="nav-links">
                <a href="index.html">返回预订</a>
                <a href="profile.html">个人信息</a>
                <a href="flight-management.html">航班管理</a>
                <a href="#" onclick="alert('功能开发中')">设置</a>
                <a href="login.html">退出登录</a>
            </nav>
        </header>

        <div class="grid">
            <div class="card">
                <h2 class="card-header">今日概览</h2>
                <div class="stat">
                    <span class="stat-number">256</span>
                    <span class="stat-label">预订总数</span>
                </div>
                <div class="stat">
                    <span class="stat-number">98%</span>
                    <span class="stat-label">准点率</span>
                </div>
                <div class="stat">
                    <span class="stat-number">¥68,900</span>
                    <span class="stat-label">销售额</span>
                </div>
            </div>

            <div class="card">
                <h2 class="card-header">热门航线</h2>
                <ul class="route-list">
                    <li class="route-item">
                        <span>北京 → 上海</span>
                        <span>892 次预订</span>
                    </li>
                    <li class="route-item">
                        <span>广州 → 深圳</span>
                        <span>654 次预订</span>
                    </li>
                    <li class="route-item">
                        <span>成都 → 重庆</span>
                        <span>542 次预订</span>
                    </li>
                </ul>
            </div>

            <div class="card">
                <h2 class="card-header">收入统计</h2>
                <div class="chart">
                    <div class="bar" style="height: 60%; left: 30px;"></div>
                    <div class="bar" style="height: 80%; left: 90px;"></div>
                    <div class="bar" style="height: 40%; left: 150px;"></div>
                    <div class="bar" style="height: 90%; left: 210px;"></div>
                </div>
            </div>

            <div class="card">
                <h2 class="card-header">
                    <span class="real-time-indicator"></span>
                    实时航班状态
                </h2>
                <div id="realTimeFlights">
                    <!-- 航班数据将通过 JavaScript 动态更新 -->
                </div>
            </div>
        </div>

        <div class="grid">
            <div class="card">
                <h2 class="card-header">客户满意度</h2>
                <div class="stat">
                    <span class="stat-number">4.8</span>
                    <span class="stat-label">平均评分（满分 5）</span>
                </div>
                <div class="chart">
                    <div class="bar" style="height: 95%; left: 30px;"></div>
                    <div class="bar" style="height: 85%; left: 90px;"></div>
                    <div class="bar" style="height: 75%; left: 150px;"></div>
                    <div class="bar" style="height: 65%; left: 210px;"></div>
                </div>
            </div>

            <div class="card">
                <h2 class="card-header">舱位分布</h2>
                <div class="stat">
                    <span class="stat-number">65%</span>
                    <span class="stat-label">经济舱</span>
                </div>
                <div class="stat">
                    <span class="stat-number">25%</span>
                    <span class="stat-label">商务舱</span>
                </div>
                <div class="stat">
                    <span class="stat-number">10%</span>
                    <span class="stat-label">头等舱</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 模拟航班数据
        const flights = [
            { id: 'CA1234', from: '北京', to: '上海', time: '10:00', status: 'ontime' },
            { id: 'MU5678', from: '广州', to: '深圳', time: '11:30', status: 'delayed' },
            { id: 'CZ9012', from: '成都', to: '重庆', time: '12:45', status: 'boarding' },
            { id: 'HU3456', from: '杭州', to: '西安', time: '14:15', status: 'ontime' }
        ];

        // 状态文字映射
        const statusText = {
            ontime: '准点',
            delayed: '延误',
            boarding: '登机中'
        };

        // 状态样式类映射
        const statusClass = {
            ontime: 'status-ontime',
            delayed: 'status-delayed',
            boarding: 'status-boarding'
        };

        // 更新航班信息
        function updateFlights() {
            const container = document.getElementById('realTimeFlights');
            container.innerHTML = flights.map(flight => `
                <div class="route-item" style="padding: 15px 0;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-weight: bold; margin-bottom: 5px;">${flight.id}</div>
                            <div style="color: #666;">${flight.from} → ${flight.to}</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="margin-bottom: 5px;">${flight.time}</div>
                            <span class="flight-status ${statusClass[flight.status]}">${statusText[flight.status]}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // 随机更新航班状态
        function randomUpdateStatus() {
            const statuses = ['ontime', 'delayed', 'boarding'];
            const randomFlight = flights[Math.floor(Math.random() * flights.length)];
            randomFlight.status = statuses[Math.floor(Math.random() * statuses.length)];
            updateFlights();
        }

        // 更新统计数据
        function updateStats() {
            const stats = {
                bookings: Math.floor(Math.random() * 100) + 200,
                ontime: (90 + Math.random() * 8).toFixed(1),
                revenue: Math.floor(Math.random() * 20000) + 60000
            };

            document.querySelector('.stat-number:nth-child(1)').textContent = stats.bookings;
            document.querySelector('.stat-number:nth-child(3)').textContent = stats.ontime + '%';
            document.querySelector('.stat-number:nth-child(5)').textContent = '¥' + stats.revenue;
        }

        // 初始化显示
        updateFlights();

        // 定期更新数据
        setInterval(randomUpdateStatus, 3000); // 每3秒随机更新一个航班状态
        setInterval(updateStats, 5000); // 每5秒更新统计数据

        // 更新图表数据
        function updateCharts() {
            const bars = document.querySelectorAll('.chart .bar');
            bars.forEach(bar => {
                const newHeight = Math.floor(Math.random() * 60) + 30 + '%';
                bar.style.height = newHeight;
            });
        }

        // 每4秒更新图表
        setInterval(updateCharts, 4000);
    </script>
</body>
</html> 